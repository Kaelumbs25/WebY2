async function fetchProduct(){try{const t=await fetch("/products.json"),e=await t.json(),a=document.getElementById("container"),c=a.classList[0];renderPage(e.books[c]),document.getElementById("add").addEventListener("click",(()=>{addBook(a.classList[0]),cartNum()}))}catch(t){console.error("Failed to fetch products data:",t),document.getElementById("products-container").innerHTML="<p>Failed to load data. Please try again later.</p>"}}function renderPage(t){const e=document.getElementById("container");console.log(t);const a=document.createElement("div");a.setAttribute("class","row d-flex"),a.innerHTML=`\n    <div class="col-12 col-md-4 col-lg-6 text-center" >\n        <img class="productImg " src="${t.img}" alt="Image of ${t.name}" />\n    </div>\n    <div class="col-12 col-md-8 col-lg-6">\n    <h2>${t.name}</h3>\n    <h3>By ${t.author}</h3>\n    <p>Released in ${t.release}</p>\n    <div class="d-flex">\n        <a href="/product/${String(Number(t.id)+1)}" class="btn" id="PB">Paperback</a>\n        <a href="/product/${String(Number(t.id)-1)}" class="btn" id="HB">Hardback</a>\n    </div>\n    <p>${t.price}</p>\n    <button class="btn btn-success" id="add">Add to Cart</button>\n    </div>\n    \n    `,e.appendChild(a);const c=document.createElement("div");c.textContent=t.desc,e.appendChild(c),"paperback"==t.format?document.getElementById("PB").classList.add("disabled"):document.getElementById("HB").classList.add("disabled")}function addBook(t){t=Number(t),null==localStorage.getItem(`${t}`)?localStorage.setItem(`${t}`,1):localStorage.setItem(`${t}`,Number(localStorage.getItem(`${t}`))+1),null==localStorage.getItem("cart")?localStorage.setItem("cart",1):localStorage.setItem("cart",Number(localStorage.getItem("cart"))+1)}function cartNum(){null!=localStorage.getItem("cart")&&(document.getElementById("cartBadge").innerHTML=localStorage.getItem("cart"))}fetchProduct();